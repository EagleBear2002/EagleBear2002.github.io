<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 8.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/avatar.jpg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/avatar.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/avatar.jpg">
  <link rel="mask-icon" href="/images/avatar.jpg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-big-counter.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"eaglebear2002.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","width":400,"display":"always","padding":18,"offset":12,"onmobile":true,"scroll_to_top_on_sidebar_toggle":false},"copycode":{"enable":true,"show_result":true,"style":"default"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="成绩组成  pmx-详细设计：50 分 zh-架构设计：50 分  软件设计 Software Design  “需求”定义了 Requirements defines  系统需要满足的目标。The goals the system needs to satisfy. 用户需求指出了目标，比如在线会议的应用目标是希望能够看到开会人员、听到声音和共享屏幕等等。   “规约”定义了 Specifica">
<meta property="og:type" content="article">
<meta property="og:title" content="软件详细设计-01-面向对象设计原则">
<meta property="og:url" content="https://eaglebear2002.github.io/48641/index.html">
<meta property="og:site_name" content="EagleBear2002 的博客">
<meta property="og:description" content="成绩组成  pmx-详细设计：50 分 zh-架构设计：50 分  软件设计 Software Design  “需求”定义了 Requirements defines  系统需要满足的目标。The goals the system needs to satisfy. 用户需求指出了目标，比如在线会议的应用目标是希望能够看到开会人员、听到声音和共享屏幕等等。   “规约”定义了 Specifica">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/1-1683201337665-133.png">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/2-1683201337666-134.png">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/3-1683201337666-135.png">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/image-20230302145449054-1683201337666-136.png">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/image-20230302145454725-1683201337667-137.png">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/01%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-1677740714172-64-1683201337667-138.jpg">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/01%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-1677740162919-30-1683201337667-139.jpg">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/01%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-1677740218866-32-1683201337667-140.jpg">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/image-20230302145710276-1683201337667-141.png">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/01%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-1677740256578-34-1683201337667-142.jpg">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/10-1683201337668-143.png">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/image-20230302145805886-1683201337668-144.png">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/image-20230302145809917-1683201337668-145.png">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/image-20230302145821801-1683201337668-146.png">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/01%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-1677740313617-36-1683201337668-147.jpg">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/image-20230302145844931-1683201337668-148.png">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/01%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-1677740338974-38-1683201337669-149.jpg">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/01%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-1677740366386-40-1683201337669-150.jpg">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/image-20230302145935912-1683201337669-151.png">
<meta property="og:image" content="https://eaglebear2002.github.io/48641/01%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-1677740393318-42-1683201337670-152.jpg">
<meta property="article:published_time" content="2023-02-14T02:10:00.000Z">
<meta property="article:modified_time" content="2026-02-09T05:08:29.687Z">
<meta property="article:author" content="EagleBear2002">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://eaglebear2002.github.io/48641/1-1683201337665-133.png">

<link rel="canonical" href="https://eaglebear2002.github.io/48641/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>软件详细设计-01-面向对象设计原则 | EagleBear2002 的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<script>
  hljs.initLineNumbersOnLoad();
</script>
<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">EagleBear2002 的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">这里必须根绝一切犹豫，这里任何怯懦都无济于事</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">61</span></a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">3</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">483</span></a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/eaglebear2002" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://eaglebear2002.github.io/48641/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="EagleBear2002">
      <meta itemprop="description" content="暮雪朝霜，毋改英雄意气">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EagleBear2002 的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          软件详细设计-01-面向对象设计原则
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-14 10:10:00" itemprop="dateCreated datePublished" datetime="2023-02-14T10:10:00+08:00">2023-02-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2026-02-09 13:08:29" itemprop="dateModified" datetime="2026-02-09T13:08:29+08:00">2026-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6%E8%BD%AF%E4%BB%B6%E5%AD%A6%E9%99%A2%E6%9C%AC%E7%A7%91%E8%AF%BE%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">南京大学软件学院本科课程</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6%E8%BD%AF%E4%BB%B6%E5%AD%A6%E9%99%A2%E6%9C%AC%E7%A7%91%E8%AF%BE%E7%A8%8B/2023Spring-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/" itemprop="url" rel="index"><span itemprop="name">2023Spring-软件系统设计</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>11k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>10 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="成绩组成">成绩组成</h2>
<ul>
<li>pmx-详细设计：50 分</li>
<li>zh-架构设计：50 分</li>
</ul>
<h2 id="软件设计-Software-Design">软件设计 Software Design</h2>
<ol>
<li>“需求”定义了 Requirements defines
<ol>
<li>系统需要满足的目标。The goals the system needs to satisfy.</li>
<li>用户需求指出了目标，比如在线会议的应用目标是希望能够看到开会人员、听到声音和共享屏幕等等。</li>
</ol>
</li>
<li>“规约”定义了 Specification defines
<ol>
<li>系统的外部可观察行为。The externally-observable behaviour of the system.</li>
</ol>
</li>
<li>“架构”定义了 Architecture defines
<ol>
<li>系统一级的主要组成部分 The major system-level components</li>
<li>各部分的互动方式 Their methods of interaction</li>
<li>使用的技术 Technology used</li>
<li>比如在线会议软件，需要前端部分、操作系统调用功能部分、网络部分以及部分之间如何联系，使用什么技术</li>
</ol>
</li>
<li>“设计”定义了 Design defines
<ol>
<li>如何完成任务 how the job will get done</li>
<li>需要写的代码 The code that needs to be written.</li>
<li>我们将专门关注 OO 设计 We will focus exclusively on OO design.</li>
</ol>
</li>
</ol>
<h2 id="面向对象设计-Object-Oriented-Design">面向对象设计 Object Oriented Design</h2>
<ol>
<li>将实现的约束条件应用到面向对象分析所产生的概念模型的过程 The process of applying implementation constraints to the conceptual model produced in object-oriented analysis.
<ol>
<li>概念模型可以对应到问题域，比如数据库、文件、用户界面和算法等等</li>
<li>添加上约束条件，比如性能约束、应对变化的需求（算法需要多种不同版本的实现）</li>
<li>我们更关心如何将这些约束条件应用到 OO 所产生的概念模型的过程，是一个问题驱动的。</li>
</ol>
</li>
<li>用方法和属性来描述用于构成系统的类 describing the classes we will build our system out of in terms of their operations and attributes.</li>
<li>添加不明显属于领域的类，比如抽象类和接口（概念模型上已经存在一些类，而这些类是属于领域的）Adding classes that aren't obviously part of the domain, like abstract classes and interfaces</li>
<li>描述类是如何构成组件的 Describing how classes make up components.</li>
</ol>
<h2 id="OOA、OOD-和-OOP">OOA、OOD 和 OOP</h2>
<h3 id="OOD-所处环节">OOD 所处环节</h3>
<img src="/48641/1-1683201337665-133.png" style="zoom: 50%;">
<ol>
<li>首先已经有一个系统架构（系统架构中有不同的组件）</li>
<li>然后针对问题分析，得到 OOA 的概念模型</li>
<li>然后我们进行 OOD 的面向对象设计，添加了一些不明显属于领域的类</li>
<li>最后我们可以直接映射到 OOP</li>
</ol>
<h3 id="如何发现合适的对象">如何发现合适的对象</h3>
<ol>
<li>OOD 的难点是将系统分解为对象。Hard part about OOD is decomposing a system into objects.</li>
<li>许多对象直接来自 Many objects come directly from the
<ol>
<li>分析模型 analysis model</li>
<li>实现空间（数据库，文件，UI，IPC 等） the implementation space (databases, files, UIs, IPC, …)</li>
</ol>
</li>
<li>同样，还有其他类没有这样的对应类。As well, there are other classes that have no such counterparts.
<ol>
<li>用来使可能过于特殊的设计变得更为通用 used to generalize what would otherwise be an overly-specific design</li>
<li>例如，使用策略模式 e.g., use of Strategy
<ol>
<li>如果您认为算法可能会发生变化 if you think an algorithm is likely to change</li>
<li>添加类以实现“策略”模式 add classes to implement a &quot;strategy&quot; pattern</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="经验至关重要">经验至关重要</h3>
<p>从 OOA 到 OOD，<strong>没有循序渐进的简单方法</strong> There is no step-by-step method to get from the OOA to an OOD.</p>
<ol>
<li>至少 OOA 以相当直接的方式给出了问题域组件 At least the OOA gives you the problem domain component in a fairly direct manner.</li>
<li>对于其他部分，则需要经验 For the rest, you need experience.</li>
</ol>
<img src="/48641/2-1683201337666-134.png" style="zoom:50%;">
<h3 id="经验从何而来">经验从何而来</h3>
<p>经验丰富的设计师看到同样的老问题一次又一次的出现 Seasoned designers see the same old problems come up again and again:</p>
<ol>
<li>如何设计我的第五个用户界面的类 how to design the classes for my 5th user interface</li>
<li>如何第三次设计支持持久化到数据库的类 how to design the classes to support persistence to a database for the 3rd time</li>
<li>如何组织班级进行第五次汇报工作 how to organize classes for reporting for the 5th time</li>
</ol>
<p>每次遇到类似的问题，设计师一般都会从之前行之有效的东西入手 Each time a similar problem comes up, designers will typically start with something that has worked for them before</p>
<ol>
<li>但通常会体会到上一次他们可以做得更好 but then usually add a wrinkle inspired by something they could have done better the last time</li>
<li>技术在我们脚下不断变化，所以我们的设计经验很快就被淘汰了 Technology keeps changing under our feet, and so our design experience is quickly made obsolete(3-5 year half-life)</li>
<li>但设计原则以及一些经典的设计经验不会褪色</li>
</ol>
<h2 id="面向对象设计原则">面向对象设计原则</h2>
<blockquote>
<p>设计模式是设计原则的体现</p>
</blockquote>
<p>知名软件大师 Robert C. Martin 认为一个可维护性（Maintainability）较低的软件设计，通常由于如下 4 个原因造成：</p>
<ol>
<li>过于僵硬（Rigidity）：硬编码等 TODO</li>
<li>过于脆弱（Fragility）：软件一个部分的修改会影响另一个未预期的部分</li>
<li>复用率低（Immobility）：期望类和子系统可以作为黑盒使用</li>
<li>黏度过高（Viscosity）：在架构层面上，如果修改时需要修改整体的架构，是以上三个问题的本质原因。希望降低模块（类）之间的耦合度，希望达成可复用的可维护性。</li>
</ol>
<p>软件工程和建模大师 Peter Coad 认为，一个好的系统设计应该具备如下三个性质：</p>
<ol>
<li>可扩展性（Extensibility）</li>
<li>灵活性（Flexibility）</li>
<li>可插入性（Pluggability）</li>
</ol>
<h3 id="软件的可维护性和可复用性">软件的可维护性和可复用性</h3>
<ol>
<li>软件的复用（Reuse）或重用拥有众多优点，如可以提高软件的开发效率，提高软件质量，节约开发成本，恰当的复用还可以改善系统的可维护性。
<ol>
<li>部分复用会破坏系统的可维护性，A 和 B 修改 C，如果 A 需要 C 多提供一个行为，但是 B 不需要则会出现问题。</li>
<li>可维护性和可维护性虽然有共性，但是是独立的属性。</li>
</ol>
</li>
<li>面向对象设计复用的目标在于实现支持可维护性的复用。</li>
<li>在面向对象的设计里面，可维护性复用都是以面向对象设计原则为基础的，这些设计原则首先都是复用的原则，遵循这些设计原则可以有效地提高系统的复用性，同时提高系统的可维护性。</li>
<li>面向对象设计原则也是对系统进行合理重构的指南针，重构（Refactoring）是在不改变软件现有功能的基础上，通过调整程序代码改善软件的质量、性能，使其程序的设计模式和架构更趋合理，提高软件的扩展性和维护性。</li>
</ol>
<h3 id="面向对象设计原则简介">面向对象设计原则简介</h3>
<p>常用的面向对象设计原则包括 7 个，这些原则并不是孤立存在的，它们相互依赖，相互补充。</p>
<p>原则之间也会有相互的作用。</p>
<img src="/48641/3-1683201337666-135.png" style="zoom: 67%;">
<h3 id="单一职责原则">单一职责原则</h3>
<h4 id="单一职责原则定义">单一职责原则定义</h4>
<p>单一职责原则（Single Responsibility Principle, SRP）定义如下：一个对象应该只包含单一的职责，并且该职责被完整地封装在一个类中。Every object should have a single responsibility, and that responsibility should be entirely encapsulated by the class.</p>
<p>另一种定义方式如下：就一个类而言，应该仅有一个引起它变化的原因。There should never be more than one reason for a class to change.</p>
<h4 id="单一职责原则分析">单一职责原则分析</h4>
<ol>
<li>一个类（或者大到模块，小到方法）承担的职责越多，它被复用的可能性越小，而且如果一个类承担的职责过多，就相当于将这些职责耦合在一起，当其中一个职责变化时，可能会影响其他职责的运作。</li>
<li>头文件相互依赖等于没有拆分。</li>
<li>类的职责主要包括两个方面：
<ol>
<li>数据职责：数据职责通过其属性来体现。</li>
<li>行为职责：而行为职责通过其方法来体现。</li>
</ol>
</li>
<li>单一职责原则是实现高内聚、低耦合的指导方针，在很多代码重构手法中都能找到它的存在，它是最简单但又最难运用的原则，需要设计人员发现类的不同职责并将其分离，而发现类的多重职责需要设计人员具有较强的分析设计能力和相关重构经验。</li>
</ol>
<h4 id="单一职责原则实例">单一职责原则实例</h4>
<p>某基于 Java 的 C/S 系统的“登录功能”通过如下登录类（<code>Login</code>）实现：</p>
<ol>
<li><code>init</code>：用来初始化界面控件，如按钮等</li>
<li><code>diaplay</code>：显示提示窗口，添加控件</li>
<li><code>validata</code>：是供界面检查使用的</li>
<li><code>getConnection</code>：用来连接数据库</li>
<li><code>findUser</code>：用来查询用户</li>
<li><code>main</code>：主函数</li>
</ol>
<p>这样的设计是不好的，这个类包含了过多的职责</p>
<img src="/48641/image-20230302145449054-1683201337666-136.png" style="zoom:80%;">
<p>现使用单一职责原则对其进行重构：</p>
<ol>
<li>我们将 <code>login</code> 类拆分成了三个类</li>
<li>使用分层的方式修改</li>
</ol>
<blockquote>
<p>软件设计的复杂性不可消解但是可以分解。</p>
</blockquote>
<img src="/48641/image-20230302145454725-1683201337667-137.png" style="zoom:67%;">
<h3 id="开闭原则：对可变性封装原则">开闭原则：对可变性封装原则</h3>
<h4 id="开闭原则定义">开闭原则定义</h4>
<p>开闭原则（Open-Closed Principle, OCP）定义如下：一个软件实体应当对扩展开放，对修改关闭。也就是说在设计一个模块的时候，应当使这个模块可以在不被修改的前提下被扩展，即实现在不修改源代码的情况下改变这个模块的行为。其英文定义为：Software entities should be open for extension, but closed for modification.</p>
<blockquote>
<p>添加新的代码远比修改旧的代码简单得多。</p>
</blockquote>
<h4 id="开闭原则分析">开闭原则分析</h4>
<ol>
<li>开闭原则由 Bertrand Meyer 于 1988 年提出，它是面向对象设计中最重要的原则之一。</li>
<li>在开闭原则的定义中，软件实体可以指一个软件模块、一个由多个类组成的局部结构或一个独立的类。</li>
<li>抽象化是开闭原则的关键。</li>
<li>开闭原则还可以通过一个更加具体的“对可变性封装原则”来描述，对可变性封装原则（Principle of Encapsulation of Variation, EVP）要求找到系统的可变因素并将其封装起来。</li>
<li>我们需要知道系统的哪些部分是变化的，开闭原则也是对单一职责原则的增强。而里氏代换原则和依赖倒置原则都是开闭原则的具体实现。</li>
</ol>
<h4 id="开闭原则实例">开闭原则实例</h4>
<p>某图形界面系统提供了各种不同形状的按钮，客户端代码可针对这些按钮进行编程，用户可能会改变需求要求使用不同的按钮，原始设计方案如图所示：</p>
<img src="/48641/01%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-1677740714172-64-1683201337667-138.jpg" style="zoom:80%;">
<img src="/48641/01%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-1677740162919-30-1683201337667-139.jpg" style="zoom:80%;">
<p>现对该系统进行重构，使之满足开闭原则的要求：尝试将代码变为数据（配置文件，<code>Config.xml</code>），结合 Java 的反射机制来完成。</p>
<img src="/48641/01%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-1677740218866-32-1683201337667-140.jpg" style="zoom:80%;">
<h3 id="里氏代换原则">里氏代换原则</h3>
<h4 id="里氏代换原则定义">里氏代换原则定义</h4>
<p>里氏代换原则（Liskov Substitution Principle, LSP）有两种定义方式，第一种定义方式相对严格，其定义如下：</p>
<blockquote>
<p>如果对每一个类型为 $S$ 的对象 $O_1$，都有类型为 $T$ 的对象 $O_2$，使得以 $T$ 定义的所有程序 $P$ 在所有的对象 $O_2$ 都代换成 $O_1$ 时，程序 $P$ 的行为没有变化，那么类型 $S$ 是类型 $T$ 的子类型。If for each object $O_1$ of type S there is an object $O_2$ of type T such that for all programs P defined in terms of T, the behavior of P is unchanged when $O_1$ is substituted for $O_2$ then S is a subtype of T.</p>
</blockquote>
<p>第二种更容易理解的定义方式如下：</p>
<blockquote>
<p>所有引用基类（父类）的地方必须能透明地使用其子类的对象。Functions that use pointers or references to base classes must be able to use objects of derived classes without knowing it.</p>
</blockquote>
<p>里氏代换原则是实现开闭原则的基础。</p>
<h4 id="里氏代换原则分析">里氏代换原则分析</h4>
<ol>
<li>里氏代换原则可以通俗表述为：在软件中如果能够使用基类对象，那么一定能够使用其子类对象。把基类都替换成它的子类，程序将不会产生任何错误和异常。反过来则不成立：如果一个软件实体使用的是一个子类的话，那么它不一定能够使用基类。</li>
<li>里氏代换原则是实现开闭原则的重要方式之一，由于使用基类对象的地方都可以使用子类对象，因此在程序中尽量使用基类类型来对对象进行定义，而在运行时再确定其子类类型，用子类对象来替换父类对象。</li>
<li>里氏代换原则由 2008 年图灵奖得主、美国第一位计算机科学女博士、麻省理工学院教授 Barbara Liskov 和卡内基.梅隆大学 Jeannette Wing 教授于 1994 年提出。</li>
<li>其原文如下：Let q(x) be a property provable about objects x of type T. Then q(y) should be true for objects y of type S where S is a subtype of T.</li>
<li>子类不应该是父类的功能的扩展，我们可以使用组合的方式来扩展功能。</li>
</ol>
<h4 id="里氏替代原则实例">里氏替代原则实例</h4>
<p>某系统需要实现对重要数据（如用户密码）的加密处理，在数据操作类（DataOperator）中需要调用加密类中定义的加密算法，系统提供了两个不同的加密类，CipherA 和 CipherB，它们实现不同的加密方法，在 DataOperator 中可以选择其中的一个实现加密操作。如图所示：</p>
<img src="/48641/image-20230302145710276-1683201337667-141.png" style="zoom: 80%;">
<p>也可以为 CipherA 和 CipherB 设计一个共同的父类，下面是指 CipherB 是在 CipherA 的基础上加密。</p>
<img src="/48641/01%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-1677740256578-34-1683201337667-142.jpg" style="zoom:80%;">
<h3 id="依赖倒转原则">依赖倒转原则</h3>
<h4 id="依赖倒转原则定义">依赖倒转原则定义</h4>
<p>依赖倒转原则（Dependence Inversion Principle, DIP）的定义如下：高层模块不应该依赖低层模块，它们都应该依赖抽象。抽象不应该依赖于细节，细节应该依赖于抽象。High level modules should not depend upon low level modules, both should depend upon abstractions. Abstractions should not depend upon details, details should depend upon abstractions.</p>
<p>另一种表述为：要针对接口编程，不要针对实现编程。</p>
<p>其英文定义为：Program to an interface, not an implementation.</p>
<h4 id="依赖倒转原则分析">依赖倒转原则分析</h4>
<p>依赖倒转原则是 Robert C. Martin 在 1996 年为《C++ Reporter》所写的专栏 Engineering Notebook 的第三篇，后来加入到他在 2002 年出版的经典著作《Agile Software Development, Principles, Patterns, and Practices》中。</p>
<h4 id="依赖倒转原则分析-2">依赖倒转原则分析</h4>
<ol>
<li>简单来说，依赖倒转原则就是指：代码要依赖于抽象的类，而不要依赖于具体的类；要针对接口或抽象类编程，而不是针对具体类编程。</li>
<li>实现开闭原则的关键是抽象化，并且从抽象化导出具体化实现，如果说开闭原则是面向对象设计的目标的话，那么依赖倒转原则就是面向对象设计的主要手段。</li>
<li>依赖倒转原则的常用实现方式之一是在代码中使用抽象类，而将具体类放在配置文件
<ol>
<li>将抽象放进代码，将细节放进元数据</li>
<li>Put Abstractions in Code, Details in Metadata</li>
<li>《程序员修炼之道：从小工到专家》(The Pragmatic programmer: from journeyman to master）</li>
</ol>
</li>
<li>类之间的耦合
<ol>
<li>零耦合关系：最好情况</li>
<li>具体耦合关系</li>
<li>抽象耦合关系：依赖倒转要求至少一端是抽象的</li>
</ol>
</li>
<li>依赖倒转原则要求客户端依赖于抽象耦合，以抽象方式耦合是依赖倒转原则的关键。</li>
<li>依赖注入
<ol>
<li>构造注入（Constructor Injection）：通过构造函数注入实例变量。</li>
<li>设值注入（Setter Injection）：通过 Setter 方法注入实例变量</li>
<li>接口注入（Interface Injection）：通过接口方法注入实例变量。</li>
</ol>
</li>
</ol>
<img src="/48641/10-1683201337668-143.png" style="zoom: 67%;">
<h4 id="依赖倒转原则-2">依赖倒转原则</h4>
<p>某系统提供一个数据转换模块，可以将来自不同数据源的数据转换成多种格式，如可以转换来自数据库的数据（<code>DatabaseSource</code>）、也可以转换来自文本文件的数据（<code>TextSource</code>），转换后的格式可以是 XML 文件（<code>XMLTransformer</code>）、也可以是 XLS 文件（<code>XLSTransformer</code>）等。</p>
<img src="/48641/image-20230302145805886-1683201337668-144.png" style="zoom:80%;">
<ol start="2">
<li>由于需求的变化，该系统可能需要增加新的数据源或者新的文件格式，每增加一个新的类型的数据源或者新的类型的文件格式，客户类 <code>MainClass</code> 都需要修改源代码，以便使用新的类，但违背了开闭原则。现使用依赖倒转原则对其进行重构。</li>
</ol>
<img src="/48641/image-20230302145809917-1683201337668-145.png" style="zoom:80%;">
<h3 id="接口隔离原则">接口隔离原则</h3>
<h4 id="接口隔离原则定义">接口隔离原则定义</h4>
<ol>
<li>接口隔离原则（Interface Segregation Principle, ISP）的定义如下：客户端不应该依赖那些它不需要的接口。</li>
<li>其英文定义为：Clients should not be forced to depend upon interfaces that they do not use.</li>
<li>注意，在该定义中的接口指的是所定义的方法。</li>
<li>另一种定义方法如下：一旦一个接口太大，则需要将它分割成一些更细小的接口，使用该接口的客户端仅需知道与之相关的方法即可。</li>
</ol>
<blockquote>
<p>其英文定义为：Once an interface has gotten too 'fat' it needs to be split into smaller and more specific interfaces so that any clients of the interface will only know about the methods that pertain to them.</p>
</blockquote>
<h4 id="接口隔离原则分析">接口隔离原则分析</h4>
<ol>
<li>接口隔离原则是指使用多个专门的接口，而不使用单一的总接口。每一个接口应该承担一种相对独立的角色，不多不少，不干不该干的事，该干的事都要干。
<ol>
<li>一个接口就只代表一个角色，每个角色都有它特定的一个接口，此时这个原则可以叫做“角色隔离原则”。</li>
<li>接口仅仅提供客户端需要的行为，即所需的方法，客户端不需要的行为则隐藏起来，应当为客户端提供尽可能小的单独的接口，而不要提供大的总接口。</li>
</ol>
</li>
<li>使用接口隔离原则拆分接口时，首先必须满足单一职责原则，将一组相关的操作定义在一个接口中，且在满足高内聚的前提下，接口中的方法越少越好。</li>
<li>可以在进行系统设计时采用定制服务的方式，即为不同的客户端提供宽窄不同的接口，只提供用户需要的行为，而隐藏用户不需要的行为。</li>
</ol>
<h4 id="接口隔离原则实例">接口隔离原则实例</h4>
<ol>
<li>下图展示了一个拥有多个客户类的系统，在系统中定义了一个巨大的接口（胖接口）<code>AbstractService</code> 来服务所有的客户类。可以使用接口隔离原则对其进行重构。</li>
</ol>
<p><img src="/48641/image-20230302145821801-1683201337668-146.png" alt></p>
<p><img src="/48641/01%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-1677740313617-36-1683201337668-147.jpg" alt></p>
<h3 id="合成复用原则">合成复用原则</h3>
<h4 id="合成复用原则定义">合成复用原则定义</h4>
<ol>
<li>合成复用原则（Composite Reuse Principle, CRP）又称为组合/聚合复用原则（Composition/Aggregate Reuse Principle，CARP）</li>
<li>其定义如下：尽量使用对象组合，而不是继承来达到复用的目的。</li>
<li>其英文定义为：Favor composition of objects over inheritance as a reuse mechanism.</li>
<li>聚合和组合的区别：
<ol>
<li>聚合是独立的，组合局部不能离开总体（往往只属于一个组合对象，组合关系更强）。</li>
<li>聚合是空心菱形箭头，组合是实心菱形箭头</li>
</ol>
</li>
</ol>
<h4 id="合成复用原则分析">合成复用原则分析</h4>
<ol>
<li>合成复用原则就是指在一个新的对象里通过关联关系（包括组合关系和聚合关系）来使用一些已有的对象，使之成为新对象的一部分；新对象通过委派调用已有对象的方法达到复用其已有功能的目的。简言之：要尽量使用组合/聚合关系，少用继承。</li>
<li>在面向对象设计中，可以通过两种基本方法在不同的环境中复用已有的设计和实现，即通过组合/聚合关系或通过继承。
<ol>
<li>继承复用：实现简单，易于扩展。破坏系统的封装性；从基类继承而来的实现是静态的，不可能在运行时发生改变，没有足够的灵活性；只能在有限的环境中使用。（“白箱”复用）</li>
<li>组合/聚合复用：耦合度相对较低，选择性地调用成员对象的操作；可以在运行时动态进行。（“黑箱”复用）</li>
</ol>
</li>
<li>组合/聚合可以使系统更加灵活，类与类之间的耦合度降低，一个类的变化对其他类造成的影响相对较少，因此一般首选使用组合/聚合来实现复用；其次才考虑继承，在使用继承时，需要严格遵循里氏代换原则，有效使用继承会有助于对问题的理解，降低复杂度，而滥用继承反而会增加系统构建和维护的难度以及系统的复杂度，因此需要慎重使用继承复用。</li>
</ol>
<h4 id="合成复用原则实例">合成复用原则实例</h4>
<ol>
<li>某教学管理系统部分数据库访问类设计如图所示：</li>
</ol>
<img src="/48641/image-20230302145844931-1683201337668-148.png" style="zoom: 80%;">
<ol start="2">
<li>如果需要更换数据库连接方式，如原来采用 JDBC 连接数据库，现在采用数据库连接池连接，则需要修改 DBUtil 类源代码。如果 StudentDAO 采用 JDBC 连接，但是 TeacherDAO 采用连接池连接，则需要增加一个新的 DBUtil 类，并修改 StudentDAO 或 TeacherDAO 的源代码，使之继承新的数据库连接类，这将违背开闭原则，系统扩展性较差。</li>
<li>现使用合成复用原则对其进行重构。</li>
</ol>
<img src="/48641/01%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-1677740338974-38-1683201337669-149.jpg" style="zoom:80%;">
<h3 id="迪米特法则">迪米特法则</h3>
<h4 id="迪米特法则定义">迪米特法则定义</h4>
<p>迪米特法则（Law of Demeter, LoD）又称为最少知识原则（Least Knowledge Principle, LKP），它有多种定义方法，其中几种典型定义如下：</p>
<ol>
<li>不要和“陌生人”说话。英文定义为：Don't talk to strangers.</li>
<li>只与你的直接朋友通信。英文定义为：Talk only to your immediate friends.</li>
<li>每一个软件单位对其他的单位都只有最少的知识，而且局限于那些与本单位密切相关的软件单位。英文定义为：Each unit should have only limited knowledge about other units: only units &quot;closely&quot; related to the current unit.</li>
</ol>
<h4 id="迪米特法则分析">迪米特法则分析</h4>
<ol>
<li>迪米特法则来自于 1987 年秋美国东北大学（Northeastern University）一个名为“Demeter”的研究项目。</li>
<li>简单地说，迪米特法则就是指一个软件实体应当尽可能少的与其他实体发生相互作用。这样，当一个模块修改时，就会尽量少的影响其他的模块，扩展会相对容易，这是对软件实体之间通信的限制，它要求限制软件实体之间通信的宽度和深度。</li>
<li>在迪米特法则中，对于一个对象，其朋友包括以下几类：
<ol>
<li>当前对象本身（this）</li>
<li>以参数形式传入到当前对象方法中的对象</li>
<li>当前对象的成员对象</li>
<li>如果当前对象的成员对象是一个集合，那么集合中的元素也都是朋友</li>
<li>当前对象所创建的对象。</li>
</ol>
</li>
<li>任何一个对象，如果满足上面的条件之一，就是当前对象的“朋友”，否则就是“陌生人”。</li>
<li>迪米特法则可分为狭义法则和广义法则。在狭义的迪米特法则中，如果两个类之间不必彼此直接通信，那么这两个类就不应当发生直接的相互作用，如果其中的一个类需要调用另一个类的某一个方法的话，可以通过第三者转发这个调用。下图中，只允许 A 调用 B 对象的方法，但是不能调用 C 对象的方法（但是我们可以通过在 B 中添加一个 Wrapper 方法来间接调用 C）</li>
</ol>
<p><img src="/48641/01%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-1677740366386-40-1683201337669-150.jpg" alt></p>
<ol start="6">
<li>狭义的迪米特法则：可以降低类之间的耦合，但是会在系统中增加大量的小方法并散落在系统的各个角落，它可以使一个系统的局部设计简化，因为每一个局部都不会和远距离的对象有直接的关联，但是也会造成系统的不同模块之间的通信效率降低，使得系统的不同模块之间不容易协调。</li>
<li>广义的迪米特法则：指对对象之间的信息流量、流向以及信息的影响的控制，主要是对信息隐藏的控制。信息的隐藏可以使各个子系统之间脱耦，从而允许它们独立地被开发、优化、使用和修改，同时可以促进软件的复用，由于每一个模块都不依赖于其他模块而存在，因此每一个模块都可以独立地在其他的地方使用。一个系统的规模越大，信息的隐藏就越重要，而信息隐藏的重要性也就越明显。</li>
<li>迪米特法则的主要用途在于控制信息的过载：
<ol>
<li>在类的划分上，应当尽量创建松耦合的类，类之间的耦合度越低，就越有利于复用，一个处在松耦合中的类一旦被修改，不会对关联的类造成太大波及</li>
<li>在类的结构设计上，每一个类都应当尽量降低其成员变量和成员函数的访问权限</li>
<li>在类的设计上，只要有可能，一个类型应当设计成不变类</li>
<li>在对其他类的引用上，一个对象对其他对象的引用应当降到最低</li>
</ol>
</li>
</ol>
<h4 id="迪米特法则实例">迪米特法则实例</h4>
<p>某系统界面类（如 Form1、Form2 等类）与数据访问类（如 DA$O_1$、DA$O_2$ 等类）之间的调用关系较为复杂，如图所示：</p>
<img src="/48641/image-20230302145935912-1683201337669-151.png" style="zoom:80%;">
<p><img src="/48641/01%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-1677740393318-42-1683201337670-152.jpg" alt></p>
<h3 id="思考">思考</h3>
<ol>
<li>在 JDK 中，java.util.Stack 是 java.util.Vector 类的子类，该设计合理吗？若不合理，请分析解释该设计存在的问题。</li>
<li>违反 LSP（里式代换原则）和合成复用</li>
</ol>
<h2 id="小结">小结</h2>
<ol>
<li>对于面向对象的软件系统设计来说，在支持可维护性的同时，需要提高系统的可复用性。</li>
<li>软件的复用可以提高软件的开发效率，提高软件质量，节约开发成本，恰当的复用还可以改善系统的可维护性。</li>
<li>单一职责原则要求在软件系统中，一个类只负责一个功能领域中的相应职责。</li>
<li>开闭原则要求一个软件实体应当对扩展开放，对修改关闭，即在不修改源代码的基础上扩展一个系统的行为。</li>
<li>里氏代换原则可以通俗表述为在软件中如果能够使用基类对象，那么一定能够使用其子类对象。</li>
</ol>

    </div>

    
    
    
        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechat-award.jpg" alt="EagleBear2002 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.jpg" alt="EagleBear2002 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>


      <footer class="post-footer">

        
  <div class="post-widgets">
    <div class="wp_rating">
      <div id="wpac-rating"></div>
    </div>
  </div>


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/28858/" rel="prev" title="实践论">
      <i class="fa fa-chevron-left"></i> 实践论
    </a></div>
      <div class="post-nav-item">
    <a href="/22400/" rel="next" title="《软件开发的技术基础》勘误">
      《软件开发的技术基础》勘误 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%88%90%E7%BB%A9%E7%BB%84%E6%88%90"><span class="nav-number">1.</span> <span class="nav-text">成绩组成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1-Software-Design"><span class="nav-number">2.</span> <span class="nav-text">软件设计 Software Design</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1-Object-Oriented-Design"><span class="nav-number">3.</span> <span class="nav-text">面向对象设计 Object Oriented Design</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OOA%E3%80%81OOD-%E5%92%8C-OOP"><span class="nav-number">4.</span> <span class="nav-text">OOA、OOD 和 OOP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#OOD-%E6%89%80%E5%A4%84%E7%8E%AF%E8%8A%82"><span class="nav-number">4.1.</span> <span class="nav-text">OOD 所处环节</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%8F%91%E7%8E%B0%E5%90%88%E9%80%82%E7%9A%84%E5%AF%B9%E8%B1%A1"><span class="nav-number">4.2.</span> <span class="nav-text">如何发现合适的对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%8F%E9%AA%8C%E8%87%B3%E5%85%B3%E9%87%8D%E8%A6%81"><span class="nav-number">4.3.</span> <span class="nav-text">经验至关重要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%8F%E9%AA%8C%E4%BB%8E%E4%BD%95%E8%80%8C%E6%9D%A5"><span class="nav-number">4.4.</span> <span class="nav-text">经验从何而来</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99"><span class="nav-number">5.</span> <span class="nav-text">面向对象设计原则</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AF%E4%BB%B6%E7%9A%84%E5%8F%AF%E7%BB%B4%E6%8A%A4%E6%80%A7%E5%92%8C%E5%8F%AF%E5%A4%8D%E7%94%A8%E6%80%A7"><span class="nav-number">5.1.</span> <span class="nav-text">软件的可维护性和可复用性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E7%AE%80%E4%BB%8B"><span class="nav-number">5.2.</span> <span class="nav-text">面向对象设计原则简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%E5%8E%9F%E5%88%99"><span class="nav-number">5.3.</span> <span class="nav-text">单一职责原则</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%E5%8E%9F%E5%88%99%E5%AE%9A%E4%B9%89"><span class="nav-number">5.3.1.</span> <span class="nav-text">单一职责原则定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%E5%8E%9F%E5%88%99%E5%88%86%E6%9E%90"><span class="nav-number">5.3.2.</span> <span class="nav-text">单一职责原则分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%E5%8E%9F%E5%88%99%E5%AE%9E%E4%BE%8B"><span class="nav-number">5.3.3.</span> <span class="nav-text">单一职责原则实例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%EF%BC%9A%E5%AF%B9%E5%8F%AF%E5%8F%98%E6%80%A7%E5%B0%81%E8%A3%85%E5%8E%9F%E5%88%99"><span class="nav-number">5.4.</span> <span class="nav-text">开闭原则：对可变性封装原则</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%E5%AE%9A%E4%B9%89"><span class="nav-number">5.4.1.</span> <span class="nav-text">开闭原则定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%E5%88%86%E6%9E%90"><span class="nav-number">5.4.2.</span> <span class="nav-text">开闭原则分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%E5%AE%9E%E4%BE%8B"><span class="nav-number">5.4.3.</span> <span class="nav-text">开闭原则实例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%87%8C%E6%B0%8F%E4%BB%A3%E6%8D%A2%E5%8E%9F%E5%88%99"><span class="nav-number">5.5.</span> <span class="nav-text">里氏代换原则</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%87%8C%E6%B0%8F%E4%BB%A3%E6%8D%A2%E5%8E%9F%E5%88%99%E5%AE%9A%E4%B9%89"><span class="nav-number">5.5.1.</span> <span class="nav-text">里氏代换原则定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%87%8C%E6%B0%8F%E4%BB%A3%E6%8D%A2%E5%8E%9F%E5%88%99%E5%88%86%E6%9E%90"><span class="nav-number">5.5.2.</span> <span class="nav-text">里氏代换原则分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%87%8C%E6%B0%8F%E6%9B%BF%E4%BB%A3%E5%8E%9F%E5%88%99%E5%AE%9E%E4%BE%8B"><span class="nav-number">5.5.3.</span> <span class="nav-text">里氏替代原则实例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E5%80%92%E8%BD%AC%E5%8E%9F%E5%88%99"><span class="nav-number">5.6.</span> <span class="nav-text">依赖倒转原则</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E5%80%92%E8%BD%AC%E5%8E%9F%E5%88%99%E5%AE%9A%E4%B9%89"><span class="nav-number">5.6.1.</span> <span class="nav-text">依赖倒转原则定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E5%80%92%E8%BD%AC%E5%8E%9F%E5%88%99%E5%88%86%E6%9E%90"><span class="nav-number">5.6.2.</span> <span class="nav-text">依赖倒转原则分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E5%80%92%E8%BD%AC%E5%8E%9F%E5%88%99%E5%88%86%E6%9E%90-2"><span class="nav-number">5.6.3.</span> <span class="nav-text">依赖倒转原则分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E5%80%92%E8%BD%AC%E5%8E%9F%E5%88%99-2"><span class="nav-number">5.6.4.</span> <span class="nav-text">依赖倒转原则</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E9%9A%94%E7%A6%BB%E5%8E%9F%E5%88%99"><span class="nav-number">5.7.</span> <span class="nav-text">接口隔离原则</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E9%9A%94%E7%A6%BB%E5%8E%9F%E5%88%99%E5%AE%9A%E4%B9%89"><span class="nav-number">5.7.1.</span> <span class="nav-text">接口隔离原则定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E9%9A%94%E7%A6%BB%E5%8E%9F%E5%88%99%E5%88%86%E6%9E%90"><span class="nav-number">5.7.2.</span> <span class="nav-text">接口隔离原则分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E9%9A%94%E7%A6%BB%E5%8E%9F%E5%88%99%E5%AE%9E%E4%BE%8B"><span class="nav-number">5.7.3.</span> <span class="nav-text">接口隔离原则实例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%88%E6%88%90%E5%A4%8D%E7%94%A8%E5%8E%9F%E5%88%99"><span class="nav-number">5.8.</span> <span class="nav-text">合成复用原则</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%88%E6%88%90%E5%A4%8D%E7%94%A8%E5%8E%9F%E5%88%99%E5%AE%9A%E4%B9%89"><span class="nav-number">5.8.1.</span> <span class="nav-text">合成复用原则定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%88%E6%88%90%E5%A4%8D%E7%94%A8%E5%8E%9F%E5%88%99%E5%88%86%E6%9E%90"><span class="nav-number">5.8.2.</span> <span class="nav-text">合成复用原则分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%88%E6%88%90%E5%A4%8D%E7%94%A8%E5%8E%9F%E5%88%99%E5%AE%9E%E4%BE%8B"><span class="nav-number">5.8.3.</span> <span class="nav-text">合成复用原则实例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%AA%E7%B1%B3%E7%89%B9%E6%B3%95%E5%88%99"><span class="nav-number">5.9.</span> <span class="nav-text">迪米特法则</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%AA%E7%B1%B3%E7%89%B9%E6%B3%95%E5%88%99%E5%AE%9A%E4%B9%89"><span class="nav-number">5.9.1.</span> <span class="nav-text">迪米特法则定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%AA%E7%B1%B3%E7%89%B9%E6%B3%95%E5%88%99%E5%88%86%E6%9E%90"><span class="nav-number">5.9.2.</span> <span class="nav-text">迪米特法则分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%AA%E7%B1%B3%E7%89%B9%E6%B3%95%E5%88%99%E5%AE%9E%E4%BE%8B"><span class="nav-number">5.9.3.</span> <span class="nav-text">迪米特法则实例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%9D%E8%80%83"><span class="nav-number">5.10.</span> <span class="nav-text">思考</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93"><span class="nav-number">6.</span> <span class="nav-text">小结</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="EagleBear2002"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">EagleBear2002</p>
  <div class="site-description" itemprop="description">暮雪朝霜，毋改英雄意气</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">483</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">61</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/EagleBear2002" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;EagleBear2002" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:eaglebear2002@foxmail.com" title="E-Mail → mailto:eaglebear2002@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://czxingchen.github.io/" title="https:&#x2F;&#x2F;czxingchen.github.io&#x2F;" rel="noopener" target="_blank">PL 顶会研究者-XiaoZhi</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.cnblogs.com/the-sword-of-king/" title="https:&#x2F;&#x2F;www.cnblogs.com&#x2F;the-sword-of-king&#x2F;" rel="noopener" target="_blank">模式识别专家-崖山剑</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://en.ydjsir.com.cn/" title="https:&#x2F;&#x2F;en.ydjsir.com.cn&#x2F;" rel="noopener" target="_blank">愿逐月华流照君-YDJSIR</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://blog.csdn.net/m0_51691879?spm=1000.2115.3001.5343" title="https:&#x2F;&#x2F;blog.csdn.net&#x2F;m0_51691879?spm&#x3D;1000.2115.3001.5343" rel="noopener" target="_blank">软院科协掌门人-wbl_z</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://itxia.club/" title="https:&#x2F;&#x2F;itxia.club&#x2F;" rel="noopener" target="_blank">侠之大者为国为民-IT 侠</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://chestnutsilver.github.io/TJIS-My-Helloworld/" title="https:&#x2F;&#x2F;chestnutsilver.github.io&#x2F;TJIS-My-Helloworld&#x2F;" rel="noopener" target="_blank">因果推断爱好者-ChestnutSilver</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://atritium.github.io/" title="https:&#x2F;&#x2F;atritium.github.io&#x2F;" rel="noopener" target="_blank">任天堂技术扛把子-manqi</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://blog.sakiyary.cn/" title="https:&#x2F;&#x2F;blog.sakiyary.cn&#x2F;" rel="noopener" target="_blank">教育部教学创新项目负责人-哈气鸭梨</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://huoxj.github.io/" title="https:&#x2F;&#x2F;huoxj.github.io&#x2F;" rel="noopener" target="_blank">离百年博客还有 98 年捞程序 Runz</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.erinwithbmq.xin/" title="https:&#x2F;&#x2F;www.erinwithbmq.xin&#x2F;" rel="noopener" target="_blank">摸鱼小能手 ErinwithBMQ の 尋夢之旅</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://tilnel.github.io/" title="https:&#x2F;&#x2F;tilnel.github.io&#x2F;" rel="noopener" target="_blank">南大耐摔王 Tilnel 的杂谈小屋</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://blog.azifan.club/" title="https:&#x2F;&#x2F;blog.azifan.club&#x2F;" rel="noopener" target="_blank">水龙之魂</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://mzy0624.github.io/" title="https:&#x2F;&#x2F;mzy0624.github.io&#x2F;" rel="noopener" target="_blank">Haibara AI</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2022 – 
  <span itemprop="copyrightYear">2026</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">EagleBear2002</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">2.7m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">40:25</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  



  <script>
  if (CONFIG.page.isPost) {
    wpac_init = window.wpac_init || [];
    wpac_init.push({
      widget: 'Rating',
      id    : ,
      el    : 'wpac-rating',
      color : 'fc6423'
    });
    (function() {
      if ('WIDGETPACK_LOADED' in window) return;
      WIDGETPACK_LOADED = true;
      var mc = document.createElement('script');
      mc.type = 'text/javascript';
      mc.async = true;
      mc.src = '//embed.widgetpack.com/widget.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
    })();
  }
  </script>










<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
